<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Whale - Arbitrage Calculator</title>

  <!-- ===== Premium font ===== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- ===== Favicons (ROOT) ===== -->
  
<link rel="icon" href="favicon.ico?v=7" sizes="any">
<link rel="icon" type="image/svg+xml" href="favicon-v7.svg?v=7">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png?v=7">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png?v=7">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png?v=7">
<link rel="shortcut icon" href="favicon.ico?v=7">


  <meta name="theme-color" content="#050A14">
  <meta name="msapplication-TileColor" content="#050A14">

  <style>
    :root{
      --bg0:#060912;
      --bg1:#070b18;

      --card:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.10);

      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.62);

      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --r:22px;

      --long:#33d18f;
      --short:#ff5c73;
    }

    *{box-sizing:border-box}

    html, body{
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body{
      margin:0;
      color:var(--text);
      font-family: "Manrope", Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 600px at 18% 12%, rgba(103,213,255,.14), transparent 55%),
        radial-gradient(700px 500px at 82% 18%, rgba(138,168,255,.12), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
      min-height:100vh;
      overflow-x:hidden;
    }

    .page{
      max-width: 1280px;
      margin: 0 auto;
      padding: 26px 18px 60px;
    }

    .topbar{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap:18px;
      margin-bottom:12px;
    }

    .titleBlock{
      grid-column:2;
      text-align:center;
      min-width:0;
    }

    .titleBlock h1{
      margin:0;
      font-size:38px;
      letter-spacing:-.02em;
      font-weight: 900;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-shadow: 0 18px 60px rgba(0,0,0,.45);
    }

    .sub{
      margin:8px 0 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.5;
      font-weight: 600;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .whale-top{
      grid-column:3;
      justify-self:end;
      width: 360px;
      height: 130px;
      pointer-events:none;
      display:flex;
      align-items:flex-start;
      justify-content:flex-end;
      overflow:visible;
      position: relative;
    }

    .whale-top img{
      height: 190px;
      width:auto;
      object-fit:contain;

      opacity:.88;
      filter:
        drop-shadow(0 30px 90px rgba(103,213,255,.45))
        drop-shadow(0 12px 40px rgba(0,0,0,.35))
        saturate(1.35)
        contrast(1.12)
        brightness(1.06);

      transform: translateX(-18px) translateY(6px);
    }

    .tg-row{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:12px;
      margin: 10px 0 18px;
      flex-wrap:wrap;
    }

    .tg-link{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:12px 22px;
      border-radius:999px;
      text-decoration:none;
      font-weight:900;
      color:#0b0f1a;
      background:#fff;
      box-shadow: 0 14px 35px rgba(0,0,0,.35);
      transition:.15s ease;
      white-space:nowrap;
      max-width: 520px;
      width: min(520px, 100%);
    }
    .tg-link:hover{ transform: translateY(-1px); }
    .tg-link:active{ opacity:.92; transform: translateY(0); }

    .cta{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:12px 18px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: rgba(255,255,255,.92);
      font-weight: 900;
      letter-spacing: .02em;
      text-decoration:none;
      box-shadow: 0 18px 55px rgba(0,0,0,.45);
      transition: .15s ease;
      overflow:hidden;
      white-space:nowrap;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);

      animation: ctaShake 3.2s ease-in-out infinite;
      will-change: transform;
    }

    .cta:hover{
      transform: translateY(-1px) scale(1.01);
      border-color: rgba(103,213,255,.30);
      box-shadow:
        0 18px 60px rgba(0,0,0,.55),
        0 0 0 4px rgba(103,213,255,.10);
    }

    .cta::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255,255,255,.22) 35%,
        rgba(103,213,255,.18) 50%,
        rgba(255,255,255,.22) 65%,
        transparent 100%
      );
      transform: translateX(-60%) rotate(12deg);
      animation: ctaShine 2.2s ease-in-out infinite;
      pointer-events:none;
    }

    .cta span{ position:relative; z-index:2; }

    @keyframes ctaShine{
      0%{ transform: translateX(-70%) rotate(12deg); opacity: .0; }
      20%{ opacity: .35; }
      50%{ transform: translateX(70%) rotate(12deg); opacity: .55; }
      80%{ opacity: .25; }
      100%{ transform: translateX(120%) rotate(12deg); opacity: 0; }
    }

    @keyframes ctaShake{
      0%, 85%, 100%{ transform: translateY(0); }
      88%{ transform: translateY(-1px) rotate(-0.6deg); }
      91%{ transform: translateY(0) rotate(0.6deg); }
      94%{ transform: translateY(-1px) rotate(-0.4deg); }
      97%{ transform: translateY(0) rotate(0.4deg); }
    }

    .content{ max-width: 980px; margin: 0 auto; }

    .glass{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .card{ padding:18px; margin-top:14px; }

    .title{
      font-weight:900;
      font-size:16px;
      margin-bottom:12px;
      letter-spacing: -.01em;
    }

    .grid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .field{ display:flex; flex-direction:column; gap:8px; }

    .label{
      font-size:12px;
      color:rgba(255,255,255,.72);
      font-weight:800;
      letter-spacing: .01em;
    }

    .input{
      height:44px;
      padding:0 14px;
      border-radius:14px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      outline:none;
      transition:.15s ease;
      font-family: "Manrope", Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 700;
      font-size: 14px;
    }

    .input::placeholder{ color: rgba(255,255,255,.35); font-weight: 700; }

    .input:focus{
      border-color: rgba(103,213,255,.45);
      box-shadow: 0 0 0 4px rgba(103,213,255,.10);
    }

    .field.long .label{ color: var(--long); font-weight:1000; }
    .field.short .label{ color: var(--short); font-weight:1000; }

    .field.long .input{ border-color: rgba(51, 209, 143, .28); }
    .field.long .input:focus{
      border-color: rgba(51, 209, 143, .55);
      box-shadow: 0 0 0 4px rgba(51, 209, 143, .12);
    }

    .field.short .input{ border-color: rgba(255, 92, 115, .28); }
    .field.short .input:focus{
      border-color: rgba(255, 92, 115, .55);
      box-shadow: 0 0 0 4px rgba(255, 92, 115, .12);
    }

    .out{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }

    .k{ color:rgba(255,255,255,.70); font-weight:900; font-size:13px; }
    .v{ font-weight:1000; font-size:16px; letter-spacing: -.01em; }
    .good{color:#b8ffcf;}
    .bad{color:#ffb8b8;}

    .note{
      margin-top:8px;
      color:rgba(255,255,255,.50);
      font-size:12px;
      line-height:1.4;
      font-weight: 600;
    }

    @media (max-width:1100px){
      .topbar{ grid-template-columns: 1fr; gap:12px; justify-items:center; }
      .titleBlock h1{ white-space:normal; font-size:30px; }
      .sub{ white-space:normal; }

      .whale-top{
        grid-column:auto;
        justify-self:center;
        width: 100%;
        height: 120px;
        justify-content:center;
      }

      .whale-top img{
        height: 175px;
        transform: translateX(0) translateY(10px);
        opacity:.62;
      }

      .grid{ grid-template-columns:1fr; }
      .content{ max-width: 100%; }
    }
  </style>
</head>

<body>
  <div class="page">

    <div class="topbar">
      <div></div>

      <div class="titleBlock">
        <h1>Арбитражный калькулятор</h1>
        <p class="sub">Автоподсчёт спред входа → прибыль по 1 токену → чистая прибыль по PNL.</p>
      </div>

      <div class="whale-top" aria-hidden="true">
        <img src="assets/whale.png" alt="">
      </div>
    </div>

    <div class="tg-row">
      <a class="tg-link" href="https://t.me/CryptoWhaleArb" target="_blank" rel="noopener noreferrer">
        ✈️ Join Telegram - CryptoWhaleArb
      </a>

      <a class="cta" href="https://t.me/CryptoWhaleArb" target="_blank" rel="noopener noreferrer">
        <span>ВОЙТИ НА КАНАЛ</span>
      </a>
    </div>

    <div class="content">
      <section class="glass card">
        <div class="title">Спред входа</div>

        <div class="grid">
          <label class="field long">
            <span class="label">Цена лонга (покупка)</span>
            <input id="longEntry" class="input auto" type="number" step="0.00000001" placeholder="Напр. 62000" />
          </label>

          <label class="field short">
            <span class="label">Цена шорта (продажа)</span>
            <input id="shortEntry" class="input auto" type="number" step="0.00000001" placeholder="Напр. 62100" />
          </label>
        </div>

        <div class="out">
          <div class="k">Спред входа (%)</div>
          <div id="spreadOut" class="v">—</div>
        </div>

        <div class="note">Автоматический расчёт спреда между Long и Short.</div>
      </section>

      <section class="glass card">
        <div class="title">Прибыль по сделке</div>

        <div class="grid">
          <label class="field long">
            <span class="label">Цена выхода по лонгу</span>
            <input id="longExit" class="input auto" type="number" step="0.00000001" placeholder="Напр. 62500" />
          </label>

          <label class="field short">
            <span class="label">Цена выхода по шорту</span>
            <input id="shortExit" class="input auto" type="number" step="0.00000001" placeholder="Напр. 62400" />
          </label>
        </div>

        <div class="out">
          <div class="k">Прибыль по связке (USDT, на 1 токен)</div>
          <div id="profitOut" class="v">—</div>
        </div>

        <div class="note">Показывает результат по связке после входа и выхода.</div>
      </section>

      <section class="glass card">
        <div class="title">Чистая прибыль</div>

        <div class="grid">
          <label class="field long">
            <span class="label">PNL по лонгу (USDT)</span>
            <input id="pnlLong" class="input auto" type="number" step="0.01" placeholder="Напр. 12.5" />
          </label>

          <label class="field short">
            <span class="label">PNL по шорту (USDT)</span>
            <input id="pnlShort" class="input auto" type="number" step="0.01" placeholder="Напр. -3.1" />
          </label>
        </div>

        <div class="out">
          <div class="k">Чистая прибыль (USDT)</div>
          <div id="netOut" class="v">—</div>
        </div>

        <div class="note">Сумма PNL по лонгу и шорту в USDT.</div>
      </section>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function num(id){
      const v = Number($(id).value);
      return Number.isFinite(v) ? v : NaN;
    }

    function fmtPct(x){
      return (x >= 0 ? "" : "-") + Math.abs(x).toFixed(4) + "%";
    }

    function fmtUsd(x){
      const sign = x >= 0 ? "" : "-";
      return sign + Math.abs(x).toFixed(2);
    }

    function setColored(el, val){
      el.classList.remove("good","bad");
      el.classList.add(val >= 0 ? "good" : "bad");
    }

    function clearOut(el){
      el.textContent = "—";
      el.classList.remove("good","bad");
    }

    function calcSpread(){
      const longEntry = num("longEntry");
      const shortEntry = num("shortEntry");
      const out = $("spreadOut");
      if (!Number.isFinite(longEntry) || !Number.isFinite(shortEntry) || longEntry === 0){
        clearOut(out); return;
      }
      const spread = (shortEntry - longEntry) / longEntry * 100;
      out.textContent = fmtPct(spread);
      setColored(out, spread);
    }

    function calcProfit(){
      const longEntry = num("longEntry");
      const shortEntry = num("shortEntry");
      const longExit = num("longExit");
      const shortExit = num("shortExit");
      const out = $("profitOut");
      if (![longEntry, shortEntry, longExit, shortExit].every(Number.isFinite)){
        clearOut(out); return;
      }
      const profitPerToken = (longExit - longEntry) + (shortEntry - shortExit);
      out.textContent = fmtUsd(profitPerToken) + " USDT";
      setColored(out, profitPerToken);
    }

    function calcNet(){
      const pnlLong = num("pnlLong");
      const pnlShort = num("pnlShort");
      const out = $("netOut");
      if (!Number.isFinite(pnlLong) || !Number.isFinite(pnlShort)){
        clearOut(out); return;
      }
      const net = pnlLong + pnlShort;
      out.textContent = fmtUsd(net) + " USDT";
      setColored(out, net);
    }

    function recalcAll(){
      calcSpread(); calcProfit(); calcNet();
    }

    document.querySelectorAll(".auto").forEach(inp=>{
      inp.addEventListener("input", recalcAll);
      inp.addEventListener("change", recalcAll);
    });

    recalcAll();
  </script>
</body>
</html>
